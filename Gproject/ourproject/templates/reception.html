{% load static %}
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Reception</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="{% static 'styles/styles.css' %}">
  <script defer src="{% static 'js/main.js' %}"></script>
</head>
<body>

  <header class="header">
    <div class="logo-wrap">
      <div class="logo-circle yellow"></div>
      <div class="logo-circle green"></div>
      <div class="site-title">Smart Eats</div>
    </div>

    <button class="nav-toggle" aria-label="Toggle nav">☰</button>

    <nav class="nav">
      <a href="/">HOME</a>
      <a href="/menu/">MENU</a>
      <a href="/order/">ORDER</a>
      <a href="/reception/" class="active">RECEPTION</a>
      <a href="/aboutus/">ABOUT US</a>
    </nav>

    <div class="auth">
      <a href="#">log in</a>
      <a class="btn-sign" href="#">SIGN UP</a>
    </div>
  </header>

  <main class="container">
    <h2>Reception</h2>

    <div style="display:flex; gap:18px; align-items:flex-start; margin-top:14px;">
      <div style="flex:1;">
        <div style="padding:18px;">
          <h3>Order Notifications</h3>
          {% if orders %}
            <ul style="list-style:none; padding:0">
              {% for o in orders %}
                <li style="padding:10px; border-bottom:1px solid #eee; display:flex; justify-content:space-between; align-items:center">
                  <div>
                    <div><strong>Order #{{ o.id }}</strong> — {{ o.created_at }}</div>
                    <div style="font-size:13px; color:#555">Status: {{ o.get_status_display }}</div>
                  </div>
                  <div>
                    {% if o.status == 'on_the_way' %}
                      <form method="post" action="{% url 'mark_received' o.id %}" class="mark-form">
                        {% csrf_token %}
                        <button class="btn" type="submit">Mark received</button>
                      </form>
                    {% else %}
                      <span style="color:#fff; background:#d32f2f; padding:6px 8px; border-radius:6px">RECEIVED</span>
                    {% endif %}
                  </div>
                </li>
              {% endfor %}
            </ul>
          {% else %}
            <p>No orders yet.</p>
          {% endif %}
        </div>
      </div>

      <aside style="width:320px;">
        <div style="background:var(--dark-panel); color:#fff; padding:18px; border-radius:8px">
          <h4 style="margin:0 0 8px 0">Visit Us</h4>
          <p style="margin:0 0 6px 0">Open daily • 9am — 10pm</p>
          <p style="margin:0 0 8px 0">Phone: +975 17 123456</p>
          <img src="{% static 'images/hero.jpg' %}" alt="map" style="width:100%; height:180px; object-fit:cover; border-radius:6px; margin-top:10px">
        </div>
      </aside>
    </div>
  </main>

  <footer class="footer">© {% now "Y" %} Smart Eats — Reception</footer>

</body>
</html>
